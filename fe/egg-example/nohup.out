
> example@1.0.0 start /root/mars/fe/egg-example
> egg-scripts start --title=egg-server-example

[egg-scripts] Starting egg application at /root/mars/fe/egg-example
[egg-scripts] Run node /root/mars/fe/egg-example/node_modules/_egg-scripts@2.11.0@egg-scripts/lib/start-cluster {"title":"egg-server-example","baseDir":"/root/mars/fe/egg-example","framework":"/root/mars/fe/egg-example/node_modules/egg"} --title=egg-server-example
2019-05-27 14:14:20,388 INFO 29009 [master] =================== egg start =====================
2019-05-27 14:14:20,389 INFO 29009 [master] node version v8.9.3
2019-05-27 14:14:20,389 INFO 29009 [master] egg version 2.21.1
2019-05-27 14:14:20,390 INFO 29009 [master] start with options:
{
  "framework": "/root/mars/fe/egg-example/node_modules/egg",
  "baseDir": "/root/mars/fe/egg-example",
  "workers": 1,
  "plugins": null,
  "https": false,
  "title": "egg-server-example"
}
2019-05-27 14:14:20,390 INFO 29009 [master] start with env: isProduction: true, EGG_SERVER_ENV: undefined, NODE_ENV: production
2019-05-27 14:14:20,409 INFO 29009 [master] agent_worker#1:29015 start with clusterPort:40811
2019-05-27 14:14:20,894 INFO 29015 Plugin development is disabled by env unmatched, require env(local) but got env is prod
2019-05-27 14:14:20,913 INFO 29015 [egg:core] App root: /root/mars/fe/egg-example
2019-05-27 14:14:20,913 INFO 29015 [egg:core] All *.log files save on "/root/logs/example"
2019-05-27 14:14:20,913 INFO 29015 [egg:core] Loaded enabled plugin [{"enable":true,"package":"egg-session","name":"session","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session","version":"3.1.0"},{"enable":true,"package":"egg-security","name":"security","dependencies":[],"optionalDependencies":["session"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security","version":"2.5.0"},{"enable":true,"package":"egg-jsonp","name":"jsonp","dependencies":[],"optionalDependencies":["security"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp","version":"2.0.0"},{"enable":true,"package":"egg-onerror","name":"onerror","dependencies":[],"optionalDependencies":["jsonp"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror","version":"2.1.0"},{"enable":true,"package":"egg-i18n","name":"i18n","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n","version":"2.1.0"},{"enable":true,"package":"egg-watcher","name":"watcher","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher","version":"3.1.0"},{"enable":true,"package":"egg-schedule","name":"schedule","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule","version":"3.6.1"},{"enable":true,"package":"egg-multipart","name":"multipart","dependencies":[],"optionalDependencies":["schedule"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart","version":"2.4.0"},{"enable":true,"package":"egg-logrotator","name":"logrotator","dependencies":["schedule"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator","version":"3.1.0"},{"enable":true,"package":"egg-static","name":"static","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static","version":"2.2.0"},{"enable":true,"package":"egg-view","name":"view","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view","version":"2.1.2"},{"enable":true,"package":"egg-sequelize","name":"sequelize","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize","version":"4.3.1"},{"enable":true,"package":"egg-cors","name":"cors","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors","version":"2.2.0"},{"enable":true,"package":"egg-view-nunjucks","name":"nunjucks","dependencies":["security","view"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks","version":"2.2.0"}]
2019-05-27 14:14:20,918 INFO 29015 [egg:logger] init all loggers with options: {"dir":"/root/logs/example","encoding":"utf8","env":"prod","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":true,"outputJSON":false,"buffer":true,"appLogName":"example-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{},"allowDebugAtProd":false,"type":"agent"}
2019-05-27 14:14:21,325 INFO 29015 [egg:core] dump config after load, 4ms
2019-05-27 14:14:21,347 INFO 29015 [egg-watcher:agent] watcher start success
2019-05-27 14:14:21,352 INFO 29015 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule/agent.js:12:9, remain ["/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14","/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 14:14:21,353 WARN 29015 [egg-watcher] defaultEventSource watcher will NOT take effect
2019-05-27 14:14:21,353 INFO 29015 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14, remain ["/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 14:14:21,404 INFO 29015 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-05-27 14:14:21,405 INFO 29015 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7, remain []
2019-05-27 14:14:21,411 INFO 29009 [master] agent_worker#1:29015 started (1018ms)
2019-05-27 14:14:21,412 INFO 29009 [master] start appWorker with args ["{\"framework\":\"/root/mars/fe/egg-example/node_modules/egg\",\"baseDir\":\"/root/mars/fe/egg-example\",\"workers\":1,\"plugins\":null,\"https\":false,\"title\":\"egg-server-example\",\"clusterPort\":40811}"]
2019-05-27 14:14:21,427 INFO 29009 [master] app_worker#1:29026 start, state: none, current workers: ["1"]
2019-05-27 14:14:21,882 INFO 29026 Plugin development is disabled by env unmatched, require env(local) but got env is prod
2019-05-27 14:14:21,901 INFO 29026 [egg:core] App root: /root/mars/fe/egg-example
2019-05-27 14:14:21,901 INFO 29026 [egg:core] All *.log files save on "/root/logs/example"
2019-05-27 14:14:21,901 INFO 29026 [egg:core] Loaded enabled plugin [{"enable":true,"package":"egg-session","name":"session","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session","version":"3.1.0"},{"enable":true,"package":"egg-security","name":"security","dependencies":[],"optionalDependencies":["session"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security","version":"2.5.0"},{"enable":true,"package":"egg-jsonp","name":"jsonp","dependencies":[],"optionalDependencies":["security"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp","version":"2.0.0"},{"enable":true,"package":"egg-onerror","name":"onerror","dependencies":[],"optionalDependencies":["jsonp"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror","version":"2.1.0"},{"enable":true,"package":"egg-i18n","name":"i18n","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n","version":"2.1.0"},{"enable":true,"package":"egg-watcher","name":"watcher","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher","version":"3.1.0"},{"enable":true,"package":"egg-schedule","name":"schedule","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule","version":"3.6.1"},{"enable":true,"package":"egg-multipart","name":"multipart","dependencies":[],"optionalDependencies":["schedule"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart","version":"2.4.0"},{"enable":true,"package":"egg-logrotator","name":"logrotator","dependencies":["schedule"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator","version":"3.1.0"},{"enable":true,"package":"egg-static","name":"static","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static","version":"2.2.0"},{"enable":true,"package":"egg-view","name":"view","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view","version":"2.1.2"},{"enable":true,"package":"egg-sequelize","name":"sequelize","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize","version":"4.3.1"},{"enable":true,"package":"egg-cors","name":"cors","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors","version":"2.2.0"},{"enable":true,"package":"egg-view-nunjucks","name":"nunjucks","dependencies":["security","view"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks","version":"2.2.0"}]
2019-05-27 14:14:22,062 INFO 29026 [egg:logger] init all loggers with options: {"dir":"/root/logs/example","encoding":"utf8","env":"prod","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":true,"outputJSON":false,"buffer":true,"appLogName":"example-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{},"allowDebugAtProd":false,"type":"application"}
2019-05-27 14:14:22,112 INFO 29026 [egg-multipart] stream mode enable
2019-05-27 14:14:22,458 INFO 29026 Use coreMiddleware order: ["cors","meta","siteFile","notfound","static","bodyParser","overrideMethod","session","securities","i18n"]
2019-05-27 14:14:22,458 INFO 29026 Use appMiddleware order: []
2019-05-27 14:14:22,459 INFO 29026 [egg:loader] Use middleware: cors
2019-05-27 14:14:22,460 INFO 29026 [egg:loader] Use middleware: meta
2019-05-27 14:14:22,460 INFO 29026 [egg:loader] Use middleware: siteFile
2019-05-27 14:14:22,460 INFO 29026 [egg:loader] Use middleware: notfound
2019-05-27 14:14:22,460 INFO 29026 [egg-static] starting static serve /public/ -> /root/mars/fe/egg-example/app/public
2019-05-27 14:14:22,461 INFO 29026 [egg:loader] Use middleware: static
2019-05-27 14:14:22,462 INFO 29026 [egg:loader] Use middleware: bodyParser
2019-05-27 14:14:22,462 INFO 29026 [egg:loader] Use middleware: overrideMethod
2019-05-27 14:14:22,462 INFO 29026 [egg:loader] Use middleware: session
2019-05-27 14:14:22,464 INFO 29026 [egg-security] use methodnoallow middleware
2019-05-27 14:14:22,464 INFO 29026 [egg-security] use noopen middleware
2019-05-27 14:14:22,465 INFO 29026 [egg-security] use nosniff middleware
2019-05-27 14:14:22,465 INFO 29026 [egg-security] use xssProtection middleware
2019-05-27 14:14:22,466 INFO 29026 [egg-security] use xframe middleware
2019-05-27 14:14:22,466 INFO 29026 [egg-security] use dta middleware
2019-05-27 14:14:22,466 INFO 29026 [egg-security] compose 6 middlewares into one security middleware
2019-05-27 14:14:22,466 INFO 29026 [egg:loader] Use middleware: securities
2019-05-27 14:14:22,466 INFO 29026 [egg:loader] Use middleware: i18n
2019-05-27 14:14:22,466 INFO 29026 [egg:loader] Loaded middleware from ["/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks/app/middleware","/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/app/middleware","/root/mars/fe/egg-example/app/middleware"]
2019-05-27 14:14:22,469 INFO 29026 [egg:loader] Controller loaded: /root/mars/fe/egg-example/app/controller
2019-05-27 14:14:22,473 INFO 29009 [master] receive signal SIGINT, closing
2019-05-27 14:14:22,474 INFO 29009 [master] send kill SIGTERM to app workers, will exit with code:0 after 5000ms
2019-05-27 14:14:22,474 INFO 29009 [master] wait 5000ms

> example@1.0.0 start /root/mars/fe/egg-example
> egg-scripts start --title=egg-server-example

[egg-scripts] Starting egg application at /root/mars/fe/egg-example
[egg-scripts] Run node /root/mars/fe/egg-example/node_modules/_egg-scripts@2.11.0@egg-scripts/lib/start-cluster {"title":"egg-server-example","baseDir":"/root/mars/fe/egg-example","framework":"/root/mars/fe/egg-example/node_modules/egg"} --title=egg-server-example
2019-05-27 16:20:18,398 INFO 2994 [master] =================== egg start =====================
2019-05-27 16:20:18,399 INFO 2994 [master] node version v8.9.3
2019-05-27 16:20:18,400 INFO 2994 [master] egg version 2.21.1
2019-05-27 16:20:18,400 INFO 2994 [master] start with options:
{
  "framework": "/root/mars/fe/egg-example/node_modules/egg",
  "baseDir": "/root/mars/fe/egg-example",
  "workers": 1,
  "plugins": null,
  "https": false,
  "title": "egg-server-example"
}
2019-05-27 16:20:18,400 INFO 2994 [master] start with env: isProduction: true, EGG_SERVER_ENV: undefined, NODE_ENV: production
2019-05-27 16:20:18,419 INFO 2994 [master] agent_worker#1:3000 start with clusterPort:36548
2019-05-27 16:20:18,919 INFO 3000 Plugin development is disabled by env unmatched, require env(local) but got env is prod
2019-05-27 16:20:18,938 INFO 3000 [egg:core] App root: /root/mars/fe/egg-example
2019-05-27 16:20:18,939 INFO 3000 [egg:core] All *.log files save on "/root/logs/example"
2019-05-27 16:20:18,939 INFO 3000 [egg:core] Loaded enabled plugin [{"enable":true,"package":"egg-session","name":"session","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session","version":"3.1.0"},{"enable":true,"package":"egg-security","name":"security","dependencies":[],"optionalDependencies":["session"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security","version":"2.5.0"},{"enable":true,"package":"egg-jsonp","name":"jsonp","dependencies":[],"optionalDependencies":["security"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp","version":"2.0.0"},{"enable":true,"package":"egg-onerror","name":"onerror","dependencies":[],"optionalDependencies":["jsonp"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror","version":"2.1.0"},{"enable":true,"package":"egg-i18n","name":"i18n","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n","version":"2.1.0"},{"enable":true,"package":"egg-watcher","name":"watcher","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher","version":"3.1.0"},{"enable":true,"package":"egg-schedule","name":"schedule","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule","version":"3.6.1"},{"enable":true,"package":"egg-multipart","name":"multipart","dependencies":[],"optionalDependencies":["schedule"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart","version":"2.4.0"},{"enable":true,"package":"egg-logrotator","name":"logrotator","dependencies":["schedule"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator","version":"3.1.0"},{"enable":true,"package":"egg-static","name":"static","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static","version":"2.2.0"},{"enable":true,"package":"egg-view","name":"view","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view","version":"2.1.2"},{"enable":true,"package":"egg-sequelize","name":"sequelize","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize","version":"4.3.1"},{"enable":true,"package":"egg-cors","name":"cors","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors","version":"2.2.0"},{"enable":true,"package":"egg-view-nunjucks","name":"nunjucks","dependencies":["security","view"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks","version":"2.2.0"}]
2019-05-27 16:20:18,944 INFO 3000 [egg:logger] init all loggers with options: {"dir":"/root/logs/example","encoding":"utf8","env":"prod","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":true,"outputJSON":false,"buffer":true,"appLogName":"example-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{},"allowDebugAtProd":false,"type":"agent"}
2019-05-27 16:20:19,360 INFO 3000 [egg:core] dump config after load, 5ms
2019-05-27 16:20:19,384 INFO 3000 [egg-watcher:agent] watcher start success
2019-05-27 16:20:19,389 INFO 3000 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule/agent.js:12:9, remain ["/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14","/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 16:20:19,389 WARN 3000 [egg-watcher] defaultEventSource watcher will NOT take effect
2019-05-27 16:20:19,389 INFO 3000 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14, remain ["/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 16:20:19,447 INFO 3000 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-05-27 16:20:19,448 INFO 3000 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7, remain []
2019-05-27 16:20:19,454 INFO 2994 [master] agent_worker#1:3000 started (1050ms)
2019-05-27 16:20:19,455 INFO 2994 [master] start appWorker with args ["{\"framework\":\"/root/mars/fe/egg-example/node_modules/egg\",\"baseDir\":\"/root/mars/fe/egg-example\",\"workers\":1,\"plugins\":null,\"https\":false,\"title\":\"egg-server-example\",\"clusterPort\":36548}"]
2019-05-27 16:20:19,470 INFO 2994 [master] app_worker#1:3011 start, state: none, current workers: ["1"]
2019-05-27 16:20:19,961 INFO 3011 Plugin development is disabled by env unmatched, require env(local) but got env is prod
2019-05-27 16:20:19,986 INFO 3011 [egg:core] App root: /root/mars/fe/egg-example
2019-05-27 16:20:19,987 INFO 3011 [egg:core] All *.log files save on "/root/logs/example"
2019-05-27 16:20:19,987 INFO 3011 [egg:core] Loaded enabled plugin [{"enable":true,"package":"egg-session","name":"session","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session","version":"3.1.0"},{"enable":true,"package":"egg-security","name":"security","dependencies":[],"optionalDependencies":["session"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security","version":"2.5.0"},{"enable":true,"package":"egg-jsonp","name":"jsonp","dependencies":[],"optionalDependencies":["security"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp","version":"2.0.0"},{"enable":true,"package":"egg-onerror","name":"onerror","dependencies":[],"optionalDependencies":["jsonp"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror","version":"2.1.0"},{"enable":true,"package":"egg-i18n","name":"i18n","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n","version":"2.1.0"},{"enable":true,"package":"egg-watcher","name":"watcher","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher","version":"3.1.0"},{"enable":true,"package":"egg-schedule","name":"schedule","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule","version":"3.6.1"},{"enable":true,"package":"egg-multipart","name":"multipart","dependencies":[],"optionalDependencies":["schedule"],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart","version":"2.4.0"},{"enable":true,"package":"egg-logrotator","name":"logrotator","dependencies":["schedule"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator","version":"3.1.0"},{"enable":true,"package":"egg-static","name":"static","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static","version":"2.2.0"},{"enable":true,"package":"egg-view","name":"view","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view","version":"2.1.2"},{"enable":true,"package":"egg-sequelize","name":"sequelize","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize","version":"4.3.1"},{"enable":true,"package":"egg-cors","name":"cors","dependencies":[],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors","version":"2.2.0"},{"enable":true,"package":"egg-view-nunjucks","name":"nunjucks","dependencies":["security","view"],"optionalDependencies":[],"env":[],"from":"/root/mars/fe/egg-example/config/plugin.js","path":"/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks","version":"2.2.0"}]
2019-05-27 16:20:20,189 INFO 3011 [egg:logger] init all loggers with options: {"dir":"/root/logs/example","encoding":"utf8","env":"prod","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":true,"outputJSON":false,"buffer":true,"appLogName":"example-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{},"allowDebugAtProd":false,"type":"application"}
2019-05-27 16:20:20,240 INFO 3011 [egg-multipart] stream mode enable
2019-05-27 16:20:20,589 INFO 3011 Use coreMiddleware order: ["cors","meta","siteFile","notfound","static","bodyParser","overrideMethod","session","securities","i18n"]
2019-05-27 16:20:20,589 INFO 3011 Use appMiddleware order: []
2019-05-27 16:20:20,590 INFO 3011 [egg:loader] Use middleware: cors
2019-05-27 16:20:20,590 INFO 3011 [egg:loader] Use middleware: meta
2019-05-27 16:20:20,591 INFO 3011 [egg:loader] Use middleware: siteFile
2019-05-27 16:20:20,591 INFO 3011 [egg:loader] Use middleware: notfound
2019-05-27 16:20:20,591 INFO 3011 [egg-static] starting static serve /public/ -> /root/mars/fe/egg-example/app/public
2019-05-27 16:20:20,592 INFO 3011 [egg:loader] Use middleware: static
2019-05-27 16:20:20,592 INFO 3011 [egg:loader] Use middleware: bodyParser
2019-05-27 16:20:20,593 INFO 3011 [egg:loader] Use middleware: overrideMethod
2019-05-27 16:20:20,593 INFO 3011 [egg:loader] Use middleware: session
2019-05-27 16:20:20,594 INFO 3011 [egg-security] use methodnoallow middleware
2019-05-27 16:20:20,595 INFO 3011 [egg-security] use noopen middleware
2019-05-27 16:20:20,596 INFO 3011 [egg-security] use nosniff middleware
2019-05-27 16:20:20,604 INFO 3011 [egg-security] use xssProtection middleware
2019-05-27 16:20:20,605 INFO 3011 [egg-security] use xframe middleware
2019-05-27 16:20:20,605 INFO 3011 [egg-security] use dta middleware
2019-05-27 16:20:20,605 INFO 3011 [egg-security] compose 6 middlewares into one security middleware
2019-05-27 16:20:20,605 INFO 3011 [egg:loader] Use middleware: securities
2019-05-27 16:20:20,605 INFO 3011 [egg:loader] Use middleware: i18n
2019-05-27 16:20:20,605 INFO 3011 [egg:loader] Loaded middleware from ["/root/mars/fe/egg-example/node_modules/_egg-session@3.1.0@egg-session/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-security@2.5.0@egg-security/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-jsonp@2.0.0@egg-jsonp/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-onerror@2.1.0@egg-onerror/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-i18n@2.1.0@egg-i18n/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-schedule@3.6.1@egg-schedule/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-multipart@2.4.0@egg-multipart/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-logrotator@3.1.0@egg-logrotator/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-static@2.2.0@egg-static/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-view@2.1.2@egg-view/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-cors@2.2.0@egg-cors/app/middleware","/root/mars/fe/egg-example/node_modules/_egg-view-nunjucks@2.2.0@egg-view-nunjucks/app/middleware","/root/mars/fe/egg-example/node_modules/_egg@2.21.1@egg/app/middleware","/root/mars/fe/egg-example/app/middleware"]
2019-05-27 16:20:20,608 INFO 3011 [egg:loader] Controller loaded: /root/mars/fe/egg-example/app/controller
2019-05-27 16:20:20,618 INFO 3011 [egg:core] dump config after load, 6ms
2019-05-27 16:20:20,637 INFO 3011 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-core@4.17.0@egg-core/lib/egg.js:303:10, remain ["/root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14","/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 16:20:20,648 INFO 3011 [egg-watcher:application] watcher start success
2019-05-27 16:20:20,648 INFO 3011 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-watcher@3.1.0@egg-watcher/lib/init.js:15:14, remain ["/root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7"]
2019-05-27 16:20:20,699 INFO 3011 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-05-27 16:20:20,700 INFO 3011 [egg:core:ready_stat] end ready task /root/mars/fe/egg-example/node_modules/_egg-sequelize@4.3.1@egg-sequelize/lib/loader.js:39:7, remain []
2019-05-27 16:20:20,712 INFO 2994 [master] app_worker#1:3011 started at 7001, remain 0 (1257ms)
2019-05-27 16:20:20,712 INFO 2994 [master] egg started on http://127.0.0.1:7001 (2312ms)
2019-05-27 16:20:55,305 INFO 2994 [master] receive signal SIGINT, closing
2019-05-27 16:20:55,306 INFO 2994 [master] send kill SIGTERM to app workers, will exit with code:0 after 5000ms
2019-05-27 16:20:55,306 INFO 2994 [master] wait 5000ms
